(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{24:function(e,n,t){"use strict";(function(e){t(5);o(t(4));var n=o(t(25));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t(1)["createPage"])},25:function(e,n,t){"use strict";t.r(n);var o=t(26),r=t(28);for(var s in r)"default"!==s&&function(e){t.d(n,e,(function(){return r[e]}))}(s);t(30);var a,u=t(11),c=Object(u["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],a);c.options.__file="pages/user/user.vue",n["default"]=c.exports},26:function(e,n,t){"use strict";t.r(n);var o=t(27);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},27:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return r})),t.d(n,"staticRenderFns",(function(){return a})),t.d(n,"recyclableRender",(function(){return s})),t.d(n,"components",(function(){return o}));try{o={wCompress:function(){return Promise.all([t.e("common/vendor"),t.e("components/w-compress/w-compress")]).then(t.bind(null,330))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,n=e.$createElement,t=(e._self._c,e.userInfo.userId&&e.userInfo.userId?Number(e.userInfo.wa_coin):null),o=e.userInfo.userId&&e.userInfo.userId?Number(e.userInfo.wa_coin):null,r=e.userInfo.userId&&e.userInfo.userId?Number(e.userInfo.remnant):null;e.$mp.data=Object.assign({},{$root:{m0:t,m1:o,m2:r}})},s=!1,a=[];r._withStripped=!0},28:function(e,n,t){"use strict";t.r(n);var o=t(29),r=t.n(o);for(var s in o)"default"!==s&&function(e){t.d(n,e,(function(){return o[e]}))}(s);n["default"]=r.a},29:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t(18),r=function(){Promise.all([t.e("common/vendor"),t.e("components/w-compress/w-compress")]).then(function(){return resolve(t(330))}.bind(null,t)).catch(t.oe)},s=function(){t.e("components/jinjie-tabBar/jinjie-tabBar").then(function(){return resolve(t(323))}.bind(null,t)).catch(t.oe)},a={components:{TabBar:s,WCompress:r},data:function(){return{userInfo:{},avatarf:""}},onLoad:function(){},onShow:function(){this.getUserInfo()},methods:{loginOut:function(){e.showModal({title:"提示",content:"退出登錄？",success:function(n){n.confirm?(e.clearStorageSync(),e.sendNativeEvent("loginOut")):n.cancel&&console.log("用户点击取消")}})},uploadImageOne:function(){var n=this;e.chooseImage({count:1,sizeType:["compressed"],success:function(t){e.showLoading({title:"圖片壓縮中"}),e.compressImage({src:t.tempFilePaths[0],quality:40,success:function(t){e.showLoading({title:"圖片上傳中"}),e.uploadFile({url:"https://kql.iqweb.net/api/index/uploadImage_bd",filePath:t.tempFilePath,name:"Filedata",header:{"Content-Type":"multipart/form-data"},success:function(t){e.hideLoading(),n.userInfo.avatar=JSON.parse(t.data).data.newfilename;var r={avatar:JSON.parse(t.data).data.uploadPath};(0,o.userSave)(r).then((function(n){e.showToast({title:n.msg,icon:"none"})}))},fail:function(n){e.hideLoading(),e.showToast({title:"圖片上傳失敗",icon:"none"})}})},fail:function(){e.hideLoading(),e.showToast({title:"圖片壓縮失敗",icon:"none"})}})}})},goto:function(n,t){2==t?e.showToast({title:"暫未開發",icon:"none"}):e.navigateTo({url:n})},getUserInfo:function(){var n={token:""},t=this;(0,o.getUserInfo)(n).then((function(n){t.userInfo=n.data,e.setStorageSync("user_type",n.data.user_type)}))}}};n.default=a}).call(this,t(1)["default"])},30:function(e,n,t){"use strict";t.r(n);var o=t(31),r=t.n(o);for(var s in o)"default"!==s&&function(e){t.d(n,e,(function(){return o[e]}))}(s);n["default"]=r.a},31:function(e,n,t){}},[[24,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/user/user.js.map